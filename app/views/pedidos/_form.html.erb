<%= form_for(@pedido, html: { class: "form-horizontal", role: "form" }) do |f| %>
  <% if @pedido.errors.any? %>
    <div class="alert alert-danger alert-dismissable" role="alert">
      <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
      <h4><%= pluralize(@pedido.errors.count, "error") %> prohibited this pedido from being saved:</h4>

      <ul>
      <% @pedido.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="form-group">
    <label class="col-sm-2 control-label" for="pedido_codigo">Código</label>
    <div class="col-sm-10">
      <%= f.number_field :codigo, class: "form-control" %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label :cliente, class: "col-sm-2 control-label" %>
    <div class="col-sm-10">
      <%= f.collection_select(:cliente_id, @clientes, :id, :razaoSocial) %>
    </div>
  </div>
  <div class="form-group">
    <h5 style="font-weight: bold;" class="col-sm-2 control-label">Lista de clientes:</h5>
    <div class="table-responsive col-sm-10">
      <table class="table table-striped table-bordered table-hover">
        <thead>
        <tr>
          <th>Código</th>
          <th>Nome</th>
          <th>Fornecedor</th>
        </tr>
        </thead>

        <tbody>
        <%= content_tag_for(:tr, @produtos) do |produto| %>
            <td><%= produto.codigo %></td>
            <td><%= produto.nome %></td>
            <td><%= produto.fornecedor.razaoSocial %></td>
        <% end %>
        </tbody>
      </table>
    </div>
  </div>
  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <%= f.submit class: "btn btn-primary", value: "Salvar pedido", 'data-disable-with': "Salvando pedido" %>
    </div>
  </div>
<% end %>
